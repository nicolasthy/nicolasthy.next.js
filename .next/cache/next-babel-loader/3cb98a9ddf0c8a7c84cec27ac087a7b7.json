{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from \"react\";\nimport { ThemeProvider } from \"emotion-theming\";\nimport { LIGHT_THEME } from \"../themes/lightTheme\";\nimport { DARK_THEME } from \"../themes/darkTheme\";\nimport Layout from \"./Layout\";\nlet prefersDarkMode;\n\nif (false) {\n  const localPreference = JSON.parse(localStorage.getItem(\"nicolasthyPrefersDarkMode\"));\n  prefersDarkMode = typeof localPreference !== \"undefined\" ? localPreference : window.matchMedia(\"(prefers-color-scheme: dark)\").matches;\n}\n\nconst Provider = props => {\n  const {\n    0: isDark,\n    1: setIsDark\n  } = useState(prefersDarkMode);\n  const {\n    0: mounted,\n    1: setMounted\n  } = useState(false);\n\n  if (false) {\n    useEffect(() => {\n      setMounted(true);\n      localStorage.setItem(\"nicolasthyPrefersDarkMode\", isDark);\n    }, [isDark]);\n  }\n\n  const renderBody = () => {\n    const body = __jsx(Layout, {\n      setIsDark: setIsDark,\n      isDark: isDark\n    }, props.children);\n\n    if (!mounted) return __jsx(\"div\", {\n      style: {\n        visibility: \"hidden\"\n      }\n    }, body);\n    return body;\n  };\n\n  return __jsx(ThemeProvider, {\n    theme: isDark ? DARK_THEME : LIGHT_THEME\n  }, renderBody());\n};\n\nexport default Provider;","map":null,"metadata":{},"sourceType":"module"}